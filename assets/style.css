/* Grundlayout */
:root {
  --bg: #111418;
  --bg-soft: #171b21;
  --panel: #1d232d;
  --panel-2: #242c38;
  --text: #e9eef5;
  --muted: #a8b3c7;
  --primary: #7dd3fc;   /* cyan-300 */
  --success: #34d399;   /* green-400 */
  --danger: #fb7185;    /* rose-400 */
  --warn: #fbbf24;      /* amber-400 */
  --outline: #2f3a4b;
  --glow: #22c55e;

  /* Board-Layout */
  --cell: 62px;
  --gap: 8px;
}

* { box-sizing: border-box; }
html, body { min-height: 100%; overflow-x: hidden; }
body {
  margin: 0;
  background: linear-gradient(180deg, var(--bg) 0%, #0b0e12 100%);
  color: var(--text);
  font-family: "Jost", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}

.app-header, .app-footer {
  display: flex; align-items: center; justify-content: space-between;
  padding: 14px 18px;
  background: var(--bg-soft);
  border-bottom: 1px solid var(--outline);
}
.app-footer { border-top: 1px solid var(--outline); border-bottom: none; justify-content: center; }

.brand { display: flex; align-items: center; gap: 12px; }
.logo {
  width: 38px; height: 38px; border-radius: 12px;
  display: inline-grid; place-items: center;
  background: linear-gradient(135deg, #0ea5e9, #22c55e);
  color: #001016; font-weight: 900;
  box-shadow: 0 6px 24px rgba(14,165,233,.35), 0 2px 8px rgba(34,197,94,.25);
}
.brand h1 { font-size: 20px; margin: 0; letter-spacing: .5px; }

.wallet { display: flex; align-items: baseline; gap: 8px; color: var(--muted); }
.wallet #balance { color: var(--text); font-variant-numeric: tabular-nums; }
.wallet .unit { opacity: .7; }

.container { max-width: 1100px; margin: 0 auto; padding: 18px; }

.controls {
  background: var(--panel);
  border: 1px solid var(--outline);
  border-radius: 16px;
  padding: 16px;
  display: grid;
  gap: 14px;
}

.control-row {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}
.control-group label { display: block; font-size: 12px; color: var(--muted); margin-bottom: 6px; }
.bet-row { display: grid; grid-template-columns: repeat(7, max-content); gap: 8px; align-items: center; }
.bet-row input { width: 110px; }

button, input, select {
  background: var(--panel-2);
  border: 1px solid var(--outline);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 12px;
  font: inherit;
}
button { cursor: pointer; transition: transform .03s ease, box-shadow .2s ease; }
button:active { transform: translateY(1px); }
button.primary { background: linear-gradient(135deg, #0284c7, #06b6d4); border: none; }
button.success { background: linear-gradient(135deg, #059669, #10b981); border: none; }
button.chip { padding: 8px 10px; font-weight: 600; }
button[disabled] { opacity: .6; cursor: not-allowed; }

.actions { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
.statline { margin-left: auto; display: flex; gap: 16px; color: var(--muted); }
.statline strong { color: var(--text); }

.board-wrap { margin-top: 16px; }
.board {
  display: grid;
  gap: var(--gap);
  background: var(--panel);
  padding: 16px;
  border: 1px solid var(--outline);
  border-radius: 18px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
  width: max-content;       /* nur so breit wie das Grid */
  margin-inline: auto;      /* mittig ausrichten */
}

.cell {
  width: var(--cell);
  height: var(--cell);
  border-radius: 14px;
  display: grid; place-items: center;
  background: linear-gradient(180deg, #202a36, #18202a);
  border: 1px solid #2b3646;
  box-shadow: 0 1px 0 rgba(255,255,255,.04) inset, 0 8px 18px rgba(0,0,0,.25);
  user-select: none;
  font-weight: 700;
}
.cell:hover { filter: brightness(1.05); }
.cell.revealed.safe {
  background: linear-gradient(180deg, #1d2a22, #182a20);
  border-color: #214d38;
}
.cell.revealed.bomb {
  background: linear-gradient(180deg, #331c1f, #2a1719);
  border-color: #5b1f28;
}
.cell.flagged {
  outline: 2px dashed var(--warn);
  outline-offset: -4px;
}
.cell button {
  all: unset; display: grid; place-items: center; width: 100%; height: 100%;
  cursor: pointer; border-radius: 13px;
}
.cell.revealed button { cursor: default; }

.icon {
  font-size: 24px; line-height: 1; filter: drop-shadow(0 1px 2px rgba(0,0,0,.35));
}
.icon.bomb { color: var(--danger); }
.icon.safe { color: var(--success); }
.icon.flag { color: var(--warn); font-size: 20px; }

/* Cashout Screen Pulse (green ring that sweeps the viewport) */
.cashout-pulse {
  pointer-events: none;
  position: fixed; inset: 0;
  opacity: 0; transform: scale(1);
  background: radial-gradient(120% 120% at 50% 50%, rgba(34,197,94,0.25) 0%, rgba(34,197,94,0.12) 30%, rgba(34,197,94,0.06) 55%, transparent 60%);
  transition: opacity .15s ease;
  z-index: 999;
}
body.cashout-glow .cashout-pulse {
  animation: pulseSweep 700ms ease-out forwards;
}
@keyframes pulseSweep {
  0%   { opacity: 0; transform: scale(0.95); }
  10%  { opacity: 1; }
  60%  { opacity: .85; transform: scale(1.05); }
  100% { opacity: 0; transform: scale(1.15); }
}

/* Provably Fair block */
.pf-wrap {
  margin-top: 16px;
  background: var(--panel);
  border: 1px solid var(--outline);
  border-radius: 16px;
  padding: 12px 16px;
}
.pf-row {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
  align-items: center;
}
.pf-note { color: var(--muted); font-size: 12px; margin-top: 6px; }
details > summary { cursor: pointer; }

/* Responsive */
@media (max-width: 900px) {
  :root { --cell: 54px; --gap: 6px; }
  .control-row { grid-template-columns: 1fr; }
  .bet-row { grid-template-columns: repeat(3, max-content) 1fr repeat(3, max-content); }
  /* keine zusätzliche Justify-Logik nötig – Board zentriert über margin-inline */
}
